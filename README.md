#  Control System

Система контроля строительных объектов для управления задачами, заказами, дефектами и отчетностью.

##  Архитектура проекта

Проект построен по микросервисной архитектуре с использованием Docker

### Сервисы

| Сервис | Порт | Описание |
|--------|------|----------|
| **Frontend** | 5003 | Веб-интерфейс на Flask |
| **API Gateway** | 5000 | Единая точка входа с аутентификацией |
| **Users Service** | 5001 | Управление пользователями и аутентификация |
| **Tasks Service** | 5002 | Управление задачами, дефектами и отчетами |
| **Orders Service** | 5004 | Управление заказами и поставками |

##  Быстрый старт

### Предварительные требования

- Docker
- Docker Compose
- Git

### Запуск приложения

```bash
# 1. Клонируйте репозиторий
git clone https://github.com/nika-milka/Control-System2.git
cd Control-system2

# 2. Запустите приложение
docker-compose up -d

# 3. Проверьте статус сервисов
docker-compose ps

# 4. Доступ к приложению
- **Веб-интерфейс:** http://localhost:5003
- **Документация API:** http://localhost:5000/api/docs
- **Health Check:** http://localhost:5000/health
``` 
##  Тестовые доступы

###  Администратор (Admin)
Email: admin@system.com

Пароль: admin123

Возможности:
 - Полный доступ ко всем функциям системы
 - Управление пользователями
 - Просмотр системной статистики
 - Создание и редактирование всех сущностей

### Менеджер (Manager)
Email: manager@system.com

Пароль: manager123

Возможности:
 - Создание и назначение задач
 - Управление отчетами
 - Просмотр статистики проектов
 - Контроль выполнения работ

### Инженер (Engineer)
Email: engineer@system.com

Пароль: engineer123

Возможности:
- Создание и обновление дефектов
- Просмотр назначенных задач
- Создание заказов материалов
- Отслеживание статусов работ

### Руководитель (Director)
Email: director@system.com

Пароль: director123

Возможности:
- Просмотр отчетов и статистики
- Мониторинг прогресса проектов
- Анализ эффективности работ
- Контроль сроков выполнения

## Имеющияся тесты 
### Сервис пользователей (5 тестов):
- Регистрация нового пользователя
- Защита от дублирования email
- Успешный вход в систему
- Защита от неверного пароля
- Получение списка пользователей

### Сервис заказов (9 тестов):
- Создание заказа с расчетом суммы
- Валидация обязательных полей
- Получение списка заказов с пагинацией
- Получение конкретного заказа
- Обновление заказа
- Отмена заказа
- Пагинация
- Фильтрация по статусу
- Контроль доступа к заказам других пользователей

### Сервис задач (11 тестов):
- Создание дефектов
- Получение списка дефектов
- Создание задач
- Обновление задач
- Создание отчетов
- Генерация статистических отчетов
- Получение статистики
- Проверка здоровья сервисов
- Обновление дефектов
- Удаление отчетов
- Валидация данных заказов

### Запуск тестов

```bash
# 1. Установите зависимости 
pip install -r requirements.txt

# 2. Запустите тесты
python -m pytest test_construction_services.py -v
``` 

